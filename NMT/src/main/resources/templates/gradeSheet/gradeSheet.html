<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
          crossorigin="anonymous"></script>
  <style>
    #wrap {
      min-height: 35vh;
      position: relative;
      width: 100%;
    }

    footer {
      width: 100%;
      height: 110px;
      /* 내용물에 따라 알맞는 값 설정 */
      bottom: 0px;
      position: absolute;
    }
    .special-font{
      font-weight: 900; font-size: larger; color: #0076C0;
    }


    .header {
      display: flex;
      border-bottom: solid 2px black;
      padding-top: 30px;
      height: 120px;
      padding-bottom: 3px;
    }

    .header-logo {
      width: 15%;
      position: absolute;
      text-align: center;
      padding-top: 40px;
    }

    .header-menu li {
      width: 20%;
      text-align: center;
      font-size: 18px;
      font-weight: 800;
    }

    p { margin: 0px 0px 0px 0px;}
    .wrap_detail_info table{
      width: 100%;
    }
    .wrap_detail_info table td{
      padding: 6px 0px 6px 0px;
    }

  </style>
</head>

<body>

<div class="header-logo" style="height: 120px;">
  <h1>
    NMT
  </h1>
</div>
<div class="header">
  <div style="margin: auto; width: 63%;">
    <ul class="nav header-menu">
      <li class="nav-item">
        <a class="nav-link active" aria-current="page" th:href="@{/problem/list}">문제 풀이</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">실전 테스트</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" th:href="@{/profile/my-profile}">마이페이지</a>
      </li>
      <li class="nav-item">
        <a class="nav-link disabled">Disabled</a>
      </li>
    </ul>
  </div>
</div>
<div class="container" style="margin-left: auto; margin-right: auto;">
  <!-- 문제 제목 -->
  <div style="margin : 20px; display:flex; margin-bottom: 5px; margin-left: 1%;">
    <h2 th:text="${gradeSheet.probTitle}">
      고려대학교 22/인문
    </h2>
  </div>
  <div style="height: 3px; margin : 5px 15px 5px 1%; background-color: gray;">
  </div>

  <!-- 작성자 프로필-->
  <div style="margin: 20px; margin-top: 40px;margin-left: 1%;">
    <h4>
      작성자
    </h4>
    <div style="height: 3px; width: 70px;margin : 5px 0px 5px 0px; background-color: #0076C0;">
    </div>
  </div>
  <div style="margin-left : 1%;" th:text="${gradeSheet.userNickName}">
    이름
  </div>

  <!-- 작성 답안-->
  <div style="margin: 20px; margin-top: 40px;margin-left: 1%;">
    <h4>
      작성 답안
    </h4>
    <div style="height: 3px; width: 70px;margin : 5px 0px 5px 0px; background-color: #0076C0;">
    </div>
  </div>
  <div style="margin-left : 1%;">
    <div style="width: 100%; background-color: #d9d9d9; border: 1px solid white;">

      <div style="margin : 2% 2% 2% 2%" th:text="${gradeSheet.text}">
      </div>
    </div>
  </div>

  <!-- 성적 차트 제목-->
  <div style="margin: 20px; margin-top: 40px;margin-left: 1%;">
    <h4>
      성적
    </h4>
    <div style="height: 3px; width: 70px;margin : 5px 0px 5px 0px; background-color: #0076C0;">
    </div>
  </div>
  <!-- 성적 차트 블럭-->
  <div style="display: flex;">
    <div style="margin: auto;">
      <div style="width: 30vw">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
        <canvas id="radar-chart"></canvas>
      </div>
      <div style="text-align: center;">
        <span class="special-font" th:text="${gradeSheet.userNickName}">황태호</span>
        님의 상세 성적표
      </div>
    </div>
    <div style="margin:auto">
      <div style="width: 30vw;">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
        <canvas id="bar-chart" width="300" height="230"></canvas>
      </div>
      <div style="text-align: center; border-bottom: 1px solid #0076C0; width: 30%; margin: auto;">
        <span>성적 </span>
        <span class="special-font" th:text="${gradeSheet.grade}"> B </span>
      </div>
      <div style="text-align: center">
        <span class="special-font" th:text="${gradeSheet.userNickName}">황태호</span>
        님의 성적은
        <span class="special-font">상위</span>
        <span class="special-font">21</span>
        <span class="special-font">%</span>입니다.
      </div>
    </div>
  </div>

  <!-- 성적 상세 분석 제목 -->
  <div style="margin: 20px; margin-top: 40px;margin-left: 1%;">
    <h4>
      상세 분석
    </h4>
    <div style="height: 3px; width: 70px;margin : 5px 0px 5px 0px; background-color: #0076C0;">
    </div>
  </div>
  <!-- 상세 분석 표-->
  <div style="margin-left: 1%;">
    <div class="wrap_detail_info">
      <table style="text-align: center;">
        <colgroup>
          <col width="98">
          <col width="92">
          <col width="86">
          <col width="380">
        </colgroup>
        <thead style="border-top: solid 2px black; text-align: center;
                    border-bottom: solid 1px #eaeaea;">
        <tr>
          <th scope="col" style="padding: 10px; width: 10%;">항목</th>
          <th scope="col" style="padding: 10px; width: 10%;">성적</th>
          <th scope="col" style="padding: 10px; width: 10%;">백분위</th>
          <th scope="col" style="padding: 10px;">설명</th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td class="tit">어휘력</td>
          <td class="rating">
            <span class="blind" th:text="${gradeSheet.grade1}">A</span>
          </td>
          <td class="per">100%</td>
          <td class="text" style="text-align:left">
            <p>복잡한 상황과 전제를 정확히 파악하고, 비판적 사고와 추론 과정을 통해 주장의 진위 여부 혹은 오류를 판단할 수 있는 능력주어진 사실들을 조합하여 새로운
              가설을 만들고, 스스로 검증할 수 있는 능력</p>
          </td>
        </tr>
        <tr style="background-color: #eaeaea;">
          <td class="tit">문장력</td>
          <td class="rating">
            <span class="blind" th:text="${gradeSheet.grade2}">A</span>
          </td>
          <td class="per">96%</td>
          <td class="text" style="text-align:left">
            <p>정보를 머릿속으로 떠올리고, 부분을 통합하여 전체를 파악할 수 있는 능력물체를 마음속으로 회전시키거나 조합할 수 있고, 방향을 바꾸더라도 동일한 도형을
              찾아낼 수 있는 능력</p>
          </td>
        </tr>
        <tr>
          <td class="tit">독해력</td>
          <td class="rating">
            <span class="blind" th:text="${gradeSheet.grade3}">B</span>
          </td>
          <td class="per">91%</td>
          <td class="text" style="text-align:left">
            <p>수 체계/수학에 대한 이해를 바탕으로 일상적 수리 문제를 쉽게 해결할 수 있는 능력말이나 글로 된 문제 상황을 보다 간단한 수학적 기호(사칙연산 기호,
              등호, 부등호 등)로 전환한 뒤 해결해내는 능력</p>
          </td>
        </tr>
        <tr style="background-color: #eaeaea;">
          <td class="tit">단락구성력</td>
          <td class="rating">
            <span class="blind" th:text="${gradeSheet.grade4}">D</span>
          </td>
          <td class="per">55%</td>
          <td class="text" style="text-align:left">
            <p>단어와 문장의 의미를 정확히 이해하고, 적절한 어휘를 사용하여 대화하거나 글을 쓸 수 있는 능력글에서 제시된 사실적 또는 맥락적 정보와 개념의 핵심
              내용을 파악하고, 요약하여 제시할 수 있는 능력</p>
          </td>
        </tr>
        <tr>
          <td class="tit">모범답안 유사도</td>
          <td class="rating">
            <span class="blind" th:text="${gradeSheet.grade5}">D</span>
          </td>
          <td class="per">55%</td>
          <td class="text" style="text-align:left">
            <p>단어와 문장의 의미를 정확히 이해하고, 적절한 어휘를 사용하여 대화하거나 글을 쓸 수 있는 능력글에서 제시된 사실적 또는 맥락적 정보와 개념의 핵심
              내용을 파악하고, 요약하여 제시할 수 있는 능력</p>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- 대학교 강조 역량 -->
  <!--
  <div style="margin: 20px; margin-top: 40px;margin-left: 1%;">
    <h4>
      <span>고려대학교</span> 강조 역량
    </h4>
    <div style="height: 3px; width: 70px;margin : 5px 0px 5px 0px; background-color: #0076C0;">
    </div>
  </div>
  <div style="margin-left:1%;display:flex; text-align: center;">
    <div style="background-color: #E8E8E8; margin-right: 5%; height: 50px;border-radius: 10px; padding: 13px;">
      <div style="margin-top:auto;">문장력</div>
    </div>
    <div style="background-color: #E8E8E8; margin-right: 5%; height: 50px;border-radius: 10px; padding: 13px;">
      어휘 구성력
    </div>
    <div style="background-color: #E8E8E8; margin-right: 5%; height: 50px;border-radius: 10px; padding: 13px;">
      분량 조절
    </div>
  </div>

  -->

  <!-- 대학 측 공식 해설 -->
  <div style="margin: 20px; margin-top: 40px;margin-left: 1%;">
    <h4>
      논제 해설
    </h4>
    <div style="height: 3px; width: 70px;margin : 5px 0px 5px 0px; background-color: #0076C0;">
    </div>
  </div>
  <!-- 공식 해설 내용 -->
  <div style="margin-left : 1%;">
    <div style="width: 100%; background-color: #d9d9d9; border: 1px solid white;">
      <div style="margin : 2% 2% 2% 2%" th:utext="${gradeSheet.probExp}">

      </div>
    </div>
  </div>

  <!-- 대학 측 예시 답안 -->
  <div style="margin: 20px; margin-top: 40px;margin-left: 1%;">
    <h4>
      대학 측 예시 답안
    </h4>
    <div style="height: 3px; width: 70px;margin : 5px 0px 5px 0px; background-color: #0076C0;">
    </div>
  </div>
  <!-- 예시 답안 내용 -->
  <div style="margin-left : 1%;">
    <div style="width: 100%; background-color: #d9d9d9; border: 1px solid white;">

      <div style="margin : 2% 2% 2% 2%" th:insert='${gradeSheet.bestText} :: bestText'>
      </div>
    </div>
  </div>

  <!-- 돌아가기 버튼 -->
  <a th:href="@{/problem(problemId=${gradeSheet.problemId})}" style="">
  <div id = "backward-btn"style="width: 10%; margin-left: 90%; margin-top: 50px; border-radius: 3px;
        background-color: #0076C0; color: white; text-align: center; padding: 5px;">
    돌아가기
  </div>
  </a>

</div>
<!-- footer 작성 -->
<div id='wrap' style="background-color: #e9e9e9; margin-top: 20%;">
  <section>
    <!-- 대충 뭐 요소들이 가득차있음 -->
  </section>
  <footer>
    <nav>
      <a href='https://github.com/johan1103' target='_blank'>Github</a>
    </nav>
    <p>
      <span>저자 : 김태형</span><br />
      <span>이메일 : johan1103@naver.com</span><br />
      <span>johan1103 2022. johan1103. All Rights Reserved.</span>
    </p>
  </footer>
</div>


<!-- Option 1: Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</body>

<script th:inline="javascript">


  const $backward_btn = document.getElementById('backward-btn');

  $backward_btn.addEventListener('click',function(){
    window.location.href="main.html";
  });

  let grade1=[[${gradeSheet.grade1}]];
  let grade2=[[${gradeSheet.grade2}]];
  let grade3=[[${gradeSheet.grade3}]];
  let grade4=[[${gradeSheet.grade4}]];
  let grade5=[[${gradeSheet.grade5}]];
  let userNickname=[[${gradeSheet.userNickName}]];
  let probTitle=[[${gradeSheet.probTitle}]];

  new Chart(document.getElementById("radar-chart"), {
    type: 'radar',
    data: {
      labels: ["어휘력", "문장력", "독해력", "단락구성력", "모범답안 유사도"],
      datasets: [
        {
          label: "평균",
          fill: true,
          backgroundColor: "rgba(179,181,198,0.2)",
          borderColor: "rgba(179,181,198,1)",
          pointBorderColor: "#fff",
          pointBackgroundColor: "rgba(179,181,198,1)",
          data: [3, 3, 3, 3, 3]
        }, {
          label: "본인",
          fill: true,
          backgroundColor: "rgba(0, 118, 192,0.2)",
          borderColor: "rgba(0, 118, 192,1)",
          pointBorderColor: "#fff",
          pointBackgroundColor: "rgba(0, 118, 192,1)",
          pointBorderColor: "#fff",
          data: [grade1, grade2, grade3, grade4, grade5]
        }
      ]
    },
    options: {
      title: {
        display: true,
        text: userNickname+'님의 상세 성적표'
      },
      scale: {
        ticks : {
          suggestedMin: 0,
          suggestedMax: 5
        }
      },
    }
  });
  new Chart(document.getElementById("bar-chart"), {
    type: 'line',
    data: {
      labels: ["E", "D", "C", "B", "A"],
      datasets: [
        {
          label: "Population (millions)",
          //backgroundColor: ["#3e95cd", "#8e5ea2", "#3cba9f", "#e8c3b9", "#c45850"],
          borderColor: '#0076C0',
          backgroundColor: 'rgba(185, 225, 250,0.5)',
          data: [478, 2295, 4010, 2478, 1200],

          drawActiveElementsOnTop : true,
          indexAxis:2,
        }
      ]
    },
    options: {
      legend: { display: false },
      title: {
        display: true,
        text: probTitle+' 점수 분포표'
      }
    }
  });


</script>

</html>